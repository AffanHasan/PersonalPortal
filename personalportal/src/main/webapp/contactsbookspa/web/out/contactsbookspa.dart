// Auto-generated from contactsbookspa.html.
// DO NOT EDIT.

library contactsbookspa_html;

import 'dart:html' as autogenerated;
import 'dart:svg' as autogenerated_svg;
import 'package:web_ui/web_ui.dart' as autogenerated;
import 'package:web_ui/observe/observable.dart' as __observe;
import 'dart:html';
import 'dart:json' as json;
import 'package:web_ui/web_ui.dart';


// Original code


String baseURL = "http://localhost:8080/personalportal/ContactsBook?action=";

/**
 * Learn about the Web UI package by visiting
 * http://www.dartlang.org/articles/dart-web-components/.
 */
void main() {
  // Enable this to use Shadow DOM in the browser.
  //useShadowDom = true;
  
  //TODO : Render basic UI
  renderBasicUI();
  
  //TODO : Load initial data container
  loadDataContainerInitially();
}

void loadDataContainerInitially(){
  query('#control_panel').appendHtml("<h1>Contacts Book</h1>");
}

void renderBasicUI(){
  DivElement data_container = query("#data_container");
  data_container.children.clear();
  HttpRequest.getString(baseURL + "getContactsGroupList").then(
      (String responseText){
        List<String> jsonList = json.parse(responseText);
        LIElement groupsList = new LIElement();
        for(int i = 0; i < jsonList.length; i++ ){
          groupsList.children.add(new LIElement()..text = jsonList[i] );
        }
        data_container.children.add(groupsList);
      }
  );
}

// Additional generated code
void init_autogenerated() {
  var __root = autogenerated.document.body;
  var __t = new autogenerated.Template(__root);
  __t.create();
  __t.insert();
}

//@ sourceMappingURL=contactsbookspa.dart.map